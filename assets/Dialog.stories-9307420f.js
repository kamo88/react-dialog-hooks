import{j as k,a as _e,B as te,c as I}from"./bodyScrollLock.esm-5102fa00.js";import{r as E}from"./index-61bf1805.js";import{u as Be}from"./useDialog-23c8c928.js";import{a as Fe,g as Le}from"./_commonjsHelpers-de833af9.js";import{p as Ke}from"./index-9d475cdf.js";/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ke=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],W=ke.join(","),Ee=typeof Element>"u",R=Ee?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Y=!Ee&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},Z=function n(e,t){var a;t===void 0&&(t=!0);var r=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"inert"),u=r===""||r==="true",i=u||t&&e&&n(e.parentNode);return i},qe=function(e){var t,a=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return a===""||a==="true"},Ne=function(e,t,a){if(Z(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(W));return t&&R.call(e,W)&&r.unshift(e),r=r.filter(a),r},Pe=function n(e,t,a){for(var r=[],u=Array.from(e);u.length;){var i=u.shift();if(!Z(i,!1))if(i.tagName==="SLOT"){var f=i.assignedElements(),d=f.length?f:i.children,v=n(d,!0,a);a.flatten?r.push.apply(r,v):r.push({scopeParent:i,candidates:v})}else{var h=R.call(i,W);h&&a.filter(i)&&(t||!e.includes(i))&&r.push(i);var m=i.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(i),F=!Z(m,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(i));if(m&&F){var w=n(m===!0?i.children:m.children,!0,a);a.flatten?r.push.apply(r,w):r.push({scopeParent:i,candidates:w})}else u.unshift.apply(u,i.children)}}return r},Se=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},P=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||qe(e))&&!Se(e)?0:e.tabIndex},Me=function(e,t){var a=P(e);return a<0&&t&&!Se(e)?0:a},Ue=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Ce=function(e){return e.tagName==="INPUT"},Ve=function(e){return Ce(e)&&e.type==="hidden"},$e=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return t},Ge=function(e,t){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===t)return e[a]},ze=function(e){if(!e.name)return!0;var t=e.form||Y(e),a=function(f){return t.querySelectorAll('input[type="radio"][name="'+f+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=a(window.CSS.escape(e.name));else try{r=a(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var u=Ge(r,e.form);return!u||u===e},We=function(e){return Ce(e)&&e.type==="radio"},Ye=function(e){return We(e)&&!ze(e)},Ze=function(e){var t,a=e&&Y(e),r=(t=a)===null||t===void 0?void 0:t.host,u=!1;if(a&&a!==e){var i,f,d;for(u=!!((i=r)!==null&&i!==void 0&&(f=i.ownerDocument)!==null&&f!==void 0&&f.contains(r)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!u&&r;){var v,h,m;a=Y(r),r=(v=a)===null||v===void 0?void 0:v.host,u=!!((h=r)!==null&&h!==void 0&&(m=h.ownerDocument)!==null&&m!==void 0&&m.contains(r))}}return u},pe=function(e){var t=e.getBoundingClientRect(),a=t.width,r=t.height;return a===0&&r===0},Xe=function(e,t){var a=t.displayCheck,r=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var u=R.call(e,"details>summary:first-of-type"),i=u?e.parentElement:e;if(R.call(i,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof r=="function"){for(var f=e;e;){var d=e.parentElement,v=Y(e);if(d&&!d.shadowRoot&&r(d)===!0)return pe(e);e.assignedSlot?e=e.assignedSlot:!d&&v!==e.ownerDocument?e=v.host:e=d}e=f}if(Ze(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return pe(e);return!1},Je=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var a=0;a<t.children.length;a++){var r=t.children.item(a);if(r.tagName==="LEGEND")return R.call(t,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}t=t.parentElement}return!1},X=function(e,t){return!(t.disabled||Z(t)||Ve(t)||Xe(t,e)||$e(t)||Je(t))},ae=function(e,t){return!(Ye(t)||P(t)<0||!X(e,t))},Qe=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},He=function n(e){var t=[],a=[];return e.forEach(function(r,u){var i=!!r.scopeParent,f=i?r.scopeParent:r,d=Me(f,i),v=i?n(r.candidates):f;d===0?i?t.push.apply(t,v):t.push(f):a.push({documentOrder:u,tabIndex:d,item:r,isScope:i,content:v})}),a.sort(Ue).reduce(function(r,u){return u.isScope?r.push.apply(r,u.content):r.push(u.content),r},[]).concat(t)},Re=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Pe([e],t.includeContainer,{filter:ae.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Qe}):a=Ne(e,t.includeContainer,ae.bind(null,t)),He(a)},xe=function(e,t){t=t||{};var a;return t.getShadowRoot?a=Pe([e],t.includeContainer,{filter:X.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):a=Ne(e,t.includeContainer,X.bind(null,t)),a},C=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return R.call(e,W)===!1?!1:ae(t,e)},et=ke.concat("iframe").join(","),z=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return R.call(e,et)===!1?!1:X(t,e)};const tt=Object.freeze(Object.defineProperty({__proto__:null,focusable:xe,getTabIndex:P,isFocusable:z,isTabbable:C,tabbable:Re},Symbol.toStringTag,{value:"Module"}));/*!
* focus-trap 7.5.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function be(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,a)}return t}function he(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?be(Object(t),!0).forEach(function(a){at(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):be(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function at(n,e,t){return e=nt(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rt(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nt(n){var e=rt(n,"string");return typeof e=="symbol"?e:String(e)}var ye={activateTrap:function(e,t){if(e.length>0){var a=e[e.length-1];a!==t&&a.pause()}var r=e.indexOf(t);r===-1||e.splice(r,1),e.push(t)},deactivateTrap:function(e,t){var a=e.indexOf(t);a!==-1&&e.splice(a,1),e.length>0&&e[e.length-1].unpause()}},it=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},ot=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},M=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},st=function(e){return M(e)&&!e.shiftKey},ut=function(e){return M(e)&&e.shiftKey},ge=function(e){return setTimeout(e,0)},me=function(e,t){var a=-1;return e.every(function(r,u){return t(r)?(a=u,!1):!0}),a},L=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,a):e},V=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},ct=[],lt=function(e,t){var a=(t==null?void 0:t.document)||document,r=(t==null?void 0:t.trapStack)||ct,u=he({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:st,isKeyBackward:ut},t),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},f,d=function(o,s,c){return o&&o[s]!==void 0?o[s]:u[c||s]},v=function(o,s){var c=typeof(s==null?void 0:s.composedPath)=="function"?s.composedPath():void 0;return i.containerGroups.findIndex(function(p){var b=p.container,g=p.tabbableNodes;return b.contains(o)||(c==null?void 0:c.includes(b))||g.find(function(T){return T===o})})},h=function(o){var s=u[o];if(typeof s=="function"){for(var c=arguments.length,p=new Array(c>1?c-1:0),b=1;b<c;b++)p[b-1]=arguments[b];s=s.apply(void 0,p)}if(s===!0&&(s=void 0),!s){if(s===void 0||s===!1)return s;throw new Error("`".concat(o,"` was specified but was not a node, or did not return a node"))}var g=s;if(typeof s=="string"&&(g=a.querySelector(s),!g))throw new Error("`".concat(o,"` as selector refers to no known node"));return g},m=function(){var o=h("initialFocus");if(o===!1)return!1;if(o===void 0||!z(o,u.tabbableOptions))if(v(a.activeElement)>=0)o=a.activeElement;else{var s=i.tabbableGroups[0],c=s&&s.firstTabbableNode;o=c||h("fallbackFocus")}if(!o)throw new Error("Your focus-trap needs to have at least one focusable element");return o},F=function(){if(i.containerGroups=i.containers.map(function(o){var s=Re(o,u.tabbableOptions),c=xe(o,u.tabbableOptions),p=s.length>0?s[0]:void 0,b=s.length>0?s[s.length-1]:void 0,g=c.find(function(D){return C(D)}),T=c.slice().reverse().find(function(D){return C(D)}),O=!!s.find(function(D){return P(D)>0});return{container:o,tabbableNodes:s,focusableNodes:c,posTabIndexesFound:O,firstTabbableNode:p,lastTabbableNode:b,firstDomTabbableNode:g,lastDomTabbableNode:T,nextTabbableNode:function(S){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,N=s.indexOf(S);return N<0?_?c.slice(c.indexOf(S)+1).find(function(B){return C(B)}):c.slice(0,c.indexOf(S)).reverse().find(function(B){return C(B)}):s[N+(_?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(o){return o.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(o){return o.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},w=function y(o){if(o!==!1&&o!==a.activeElement){if(!o||!o.focus){y(m());return}o.focus({preventScroll:!!u.preventScroll}),i.mostRecentlyFocusedNode=o,it(o)&&o.select()}},x=function(o){var s=h("setReturnFocus",o);return s||(s===!1?!1:o)},se=function(o){var s=o.target,c=o.event,p=o.isBackward,b=p===void 0?!1:p;s=s||V(c),F();var g=null;if(i.tabbableGroups.length>0){var T=v(s,c),O=T>=0?i.containerGroups[T]:void 0;if(T<0)b?g=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:g=i.tabbableGroups[0].firstTabbableNode;else if(b){var D=me(i.tabbableGroups,function(H){var ee=H.firstTabbableNode;return s===ee});if(D<0&&(O.container===s||z(s,u.tabbableOptions)&&!C(s,u.tabbableOptions)&&!O.nextTabbableNode(s,!1))&&(D=T),D>=0){var S=D===0?i.tabbableGroups.length-1:D-1,_=i.tabbableGroups[S];g=P(s)>=0?_.lastTabbableNode:_.lastDomTabbableNode}else M(c)||(g=O.nextTabbableNode(s,!1))}else{var N=me(i.tabbableGroups,function(H){var ee=H.lastTabbableNode;return s===ee});if(N<0&&(O.container===s||z(s,u.tabbableOptions)&&!C(s,u.tabbableOptions)&&!O.nextTabbableNode(s))&&(N=T),N>=0){var B=N===i.tabbableGroups.length-1?0:N+1,ve=i.tabbableGroups[B];g=P(s)>=0?ve.firstTabbableNode:ve.firstDomTabbableNode}else M(c)||(g=O.nextTabbableNode(s))}}else g=h("fallbackFocus");return g},U=function(o){var s=V(o);if(!(v(s,o)>=0)){if(L(u.clickOutsideDeactivates,o)){f.deactivate({returnFocus:u.returnFocusOnDeactivate});return}L(u.allowOutsideClick,o)||o.preventDefault()}},ue=function(o){var s=V(o),c=v(s,o)>=0;if(c||s instanceof Document)c&&(i.mostRecentlyFocusedNode=s);else{o.stopImmediatePropagation();var p,b=!0;if(i.mostRecentlyFocusedNode)if(P(i.mostRecentlyFocusedNode)>0){var g=v(i.mostRecentlyFocusedNode),T=i.containerGroups[g].tabbableNodes;if(T.length>0){var O=T.findIndex(function(D){return D===i.mostRecentlyFocusedNode});O>=0&&(u.isKeyForward(i.recentNavEvent)?O+1<T.length&&(p=T[O+1],b=!1):O-1>=0&&(p=T[O-1],b=!1))}}else i.containerGroups.some(function(D){return D.tabbableNodes.some(function(S){return P(S)>0})})||(b=!1);else b=!1;b&&(p=se({target:i.mostRecentlyFocusedNode,isBackward:u.isKeyBackward(i.recentNavEvent)})),w(p||i.mostRecentlyFocusedNode||m())}i.recentNavEvent=void 0},je=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=o;var c=se({event:o,isBackward:s});c&&(M(o)&&o.preventDefault(),w(c))},ce=function(o){if(ot(o)&&L(u.escapeDeactivates,o)!==!1){o.preventDefault(),f.deactivate();return}(u.isKeyForward(o)||u.isKeyBackward(o))&&je(o,u.isKeyBackward(o))},le=function(o){var s=V(o);v(s,o)>=0||L(u.clickOutsideDeactivates,o)||L(u.allowOutsideClick,o)||(o.preventDefault(),o.stopImmediatePropagation())},fe=function(){if(i.active)return ye.activateTrap(r,f),i.delayInitialFocusTimer=u.delayInitialFocus?ge(function(){w(m())}):w(m()),a.addEventListener("focusin",ue,!0),a.addEventListener("mousedown",U,{capture:!0,passive:!1}),a.addEventListener("touchstart",U,{capture:!0,passive:!1}),a.addEventListener("click",le,{capture:!0,passive:!1}),a.addEventListener("keydown",ce,{capture:!0,passive:!1}),f},de=function(){if(i.active)return a.removeEventListener("focusin",ue,!0),a.removeEventListener("mousedown",U,!0),a.removeEventListener("touchstart",U,!0),a.removeEventListener("click",le,!0),a.removeEventListener("keydown",ce,!0),f},Ae=function(o){var s=o.some(function(c){var p=Array.from(c.removedNodes);return p.some(function(b){return b===i.mostRecentlyFocusedNode})});s&&w(m())},Q=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Ae):void 0,A=function(){Q&&(Q.disconnect(),i.active&&!i.paused&&i.containers.map(function(o){Q.observe(o,{subtree:!0,childList:!0})}))};return f={get active(){return i.active},get paused(){return i.paused},activate:function(o){if(i.active)return this;var s=d(o,"onActivate"),c=d(o,"onPostActivate"),p=d(o,"checkCanFocusTrap");p||F(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=a.activeElement,s==null||s();var b=function(){p&&F(),fe(),A(),c==null||c()};return p?(p(i.containers.concat()).then(b,b),this):(b(),this)},deactivate:function(o){if(!i.active)return this;var s=he({onDeactivate:u.onDeactivate,onPostDeactivate:u.onPostDeactivate,checkCanReturnFocus:u.checkCanReturnFocus},o);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,de(),i.active=!1,i.paused=!1,A(),ye.deactivateTrap(r,f);var c=d(s,"onDeactivate"),p=d(s,"onPostDeactivate"),b=d(s,"checkCanReturnFocus"),g=d(s,"returnFocus","returnFocusOnDeactivate");c==null||c();var T=function(){ge(function(){g&&w(x(i.nodeFocusedBeforeActivation)),p==null||p()})};return g&&b?(b(x(i.nodeFocusedBeforeActivation)).then(T,T),this):(T(),this)},pause:function(o){if(i.paused||!i.active)return this;var s=d(o,"onPause"),c=d(o,"onPostPause");return i.paused=!0,s==null||s(),de(),A(),c==null||c(),this},unpause:function(o){if(!i.paused||!i.active)return this;var s=d(o,"onUnpause"),c=d(o,"onPostUnpause");return i.paused=!1,s==null||s(),F(),fe(),A(),c==null||c(),this},updateContainerElements:function(o){var s=[].concat(o).filter(Boolean);return i.containers=s.map(function(c){return typeof c=="string"?a.querySelector(c):c}),i.active&&F(),A(),this}},f.updateContainerElements(e),f};const ft=Object.freeze(Object.defineProperty({__proto__:null,createFocusTrap:lt},Symbol.toStringTag,{value:"Module"})),dt=Fe(ft),vt=Fe(tt);function j(n){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(n)}function pt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Te(n,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,Ie(a.key),a)}}function bt(n,e,t){return e&&Te(n.prototype,e),t&&Te(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ht(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&re(n,e)}function re(n,e){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},re(n,e)}function yt(n){var e=mt();return function(){var a=J(n),r;if(e){var u=J(this).constructor;r=Reflect.construct(a,arguments,u)}else r=a.apply(this,arguments);return gt(this,r)}}function gt(n,e){if(e&&(j(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(n)}function q(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function mt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function J(n){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(n)}function Tt(n,e,t){return e=Ie(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ie(n){var e=wt(n,"string");return j(e)==="symbol"?e:String(e)}function wt(n,e){if(j(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e||"default");if(j(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var $=E,l=Ke,Dt=dt,Ot=Dt.createFocusTrap,Ft=vt,kt=Ft.isFocusable,oe=function(n){ht(t,n);var e=yt(t);function t(a){var r;pt(this,t),r=e.call(this,a),Tt(q(r),"getNodeForOption",function(f){var d,v=(d=this.internalOptions[f])!==null&&d!==void 0?d:this.originalOptions[f];if(typeof v=="function"){for(var h=arguments.length,m=new Array(h>1?h-1:0),F=1;F<h;F++)m[F-1]=arguments[F];v=v.apply(void 0,m)}if(v===!0&&(v=void 0),!v){if(v===void 0||v===!1)return v;throw new Error("`".concat(f,"` was specified but was not a node, or did not return a node"))}var w=v;if(typeof v=="string"){var x;if(w=(x=this.getDocument())===null||x===void 0?void 0:x.querySelector(v),!w)throw new Error("`".concat(f,"` as selector refers to no known node"))}return w}),r.handleDeactivate=r.handleDeactivate.bind(q(r)),r.handlePostDeactivate=r.handlePostDeactivate.bind(q(r)),r.handleClickOutsideDeactivates=r.handleClickOutsideDeactivates.bind(q(r)),r.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:r.handleDeactivate,onPostDeactivate:r.handlePostDeactivate,clickOutsideDeactivates:r.handleClickOutsideDeactivates},r.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var u=a.focusTrapOptions;for(var i in u)if(Object.prototype.hasOwnProperty.call(u,i)){if(i==="returnFocusOnDeactivate"||i==="onDeactivate"||i==="onPostDeactivate"||i==="checkCanReturnFocus"||i==="clickOutsideDeactivates"){r.originalOptions[i]=u[i];continue}r.internalOptions[i]=u[i]}return r.outsideClick=null,r.focusTrapElements=a.containerElements||[],r.updatePreviousElement(),r}return bt(t,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||(typeof document<"u"?document:void 0)}},{key:"getReturnFocusNode",value:function(){var r=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return r||(r===!1?!1:this.previouslyFocusedElement)}},{key:"updatePreviousElement",value:function(){var r=this.getDocument();r&&(this.previouslyFocusedElement=r.activeElement)}},{key:"deactivateTrap",value:function(){!this.focusTrap||!this.focusTrap.active||this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(r){var u=typeof this.originalOptions.clickOutsideDeactivates=="function"?this.originalOptions.clickOutsideDeactivates.call(null,r):this.originalOptions.clickOutsideDeactivates;return u&&(this.outsideClick={target:r.target,allowDeactivation:u}),u}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var r=this,u=function(){var f=r.getReturnFocusNode(),d=!!(r.originalOptions.returnFocusOnDeactivate&&f!==null&&f!==void 0&&f.focus&&(!r.outsideClick||r.outsideClick.allowDeactivation&&!kt(r.outsideClick.target,r.internalOptions.tabbableOptions))),v=r.internalOptions.preventScroll,h=v===void 0?!1:v;d&&f.focus({preventScroll:h}),r.originalOptions.onPostDeactivate&&r.originalOptions.onPostDeactivate.call(null),r.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(u,u):u()}},{key:"setupFocusTrap",value:function(){if(this.focusTrap)this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause());else{var r=this.focusTrapElements.some(Boolean);r&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(r){if(this.focusTrap){r.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var u=!r.active&&this.props.active,i=r.active&&!this.props.active,f=!r.paused&&this.props.paused,d=r.paused&&!this.props.paused;if(u&&(this.updatePreviousElement(),this.focusTrap.activate()),i){this.deactivateTrap();return}f&&this.focusTrap.pause(),d&&this.focusTrap.unpause()}else r.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var r=this,u=this.props.children?$.Children.only(this.props.children):void 0;if(u){if(u.type&&u.type===$.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");var i=function(v){var h=r.props.containerElements;u&&(typeof u.ref=="function"?u.ref(v):u.ref&&(u.ref.current=v)),r.focusTrapElements=h||[v]},f=$.cloneElement(u,{ref:i});return f}return null}}]),t}($.Component),K=typeof Element>"u"?Function:Element;oe.propTypes={active:l.bool,paused:l.bool,focusTrapOptions:l.shape({document:l.object,onActivate:l.func,onPostActivate:l.func,checkCanFocusTrap:l.func,onPause:l.func,onPostPause:l.func,onUnpause:l.func,onPostUnpause:l.func,onDeactivate:l.func,onPostDeactivate:l.func,checkCanReturnFocus:l.func,initialFocus:l.oneOfType([l.instanceOf(K),l.string,l.bool,l.func]),fallbackFocus:l.oneOfType([l.instanceOf(K),l.string,l.func]),escapeDeactivates:l.oneOfType([l.bool,l.func]),clickOutsideDeactivates:l.oneOfType([l.bool,l.func]),returnFocusOnDeactivate:l.bool,setReturnFocus:l.oneOfType([l.instanceOf(K),l.string,l.bool,l.func]),allowOutsideClick:l.oneOfType([l.bool,l.func]),preventScroll:l.bool,tabbableOptions:l.shape({displayCheck:l.oneOf(["full","legacy-full","non-zero-area","none"]),getShadowRoot:l.oneOfType([l.bool,l.func])}),trapStack:l.array,isKeyForward:l.func,isKeyBackward:l.func}),containerElements:l.arrayOf(l.instanceOf(K)),children:l.oneOfType([l.element,l.instanceOf(K)])};oe.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:Ot};var Et=oe;const Nt=Le(Et),ne=({children:n,isOpen:e,clickOutsideDeactivates:t,initialFocus:a})=>e?k.jsx(Nt,{focusTrapOptions:{clickOutsideDeactivates:t,initialFocus:a},children:k.jsx("div",{role:"presentation",onClick:r=>r.stopPropagation(),children:n})}):null;try{ne.displayName="DialogContainer",ne.__docgenInfo={description:"",displayName:"DialogContainer",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},clickOutsideDeactivates:{defaultValue:null,description:"",name:"clickOutsideDeactivates",required:!0,type:{name:"boolean"}},initialFocus:{defaultValue:null,description:"",name:"initialFocus",required:!1,type:{name:"false"}}}}}catch{}const Pt=E.forwardRef(({children:n,isOpen:e,shouldFocusTrap:t=!0,onClickAway:a,initialFocus:r,...u},i)=>{const f=E.useMemo(()=>!!a,[a]);return E.useEffect(()=>()=>{_e()},[i]),k.jsx("dialog",{role:"presentation",ref:i,...u,onClick:a,children:t?k.jsx(ne,{isOpen:e,clickOutsideDeactivates:f,initialFocus:r,children:n}):n})}),ie=E.memo(Pt);try{ie.displayName="Dialog",ie.__docgenInfo={description:"",displayName:"Dialog",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},shouldFocusTrap:{defaultValue:{value:"true"},description:`focus trap in dialog
default: true`,name:"shouldFocusTrap",required:!1,type:{name:"boolean"}},onClickAway:{defaultValue:null,description:"",name:"onClickAway",required:!1,type:{name:"(() => void)"}},initialFocus:{defaultValue:null,description:"",name:"initialFocus",required:!1,type:{name:"false"}}}}}catch{}const St=({className:n,shouldFocusTrap:e,initialFocus:t,actionShowDialog:a,actionCloseDialog:r})=>{const{ref:u,isOpen:i,showDialog:f,closeDialog:d}=Be(),v=E.useMemo(()=>{if(!t)return t},[t]),h=E.useCallback(()=>{f(),a("showDialog")},[a,f]),m=E.useCallback(()=>{d(),r("closeDialog click main")},[r,d]),F=E.useCallback(()=>{d(),r("closeDialog click sub")},[r,d]),w=E.useCallback(()=>{d(),r("closeDialog click away")},[r,d]);return k.jsxs("div",{children:[k.jsx(te,{onClick:h,children:"showDialog"}),k.jsx(ie,{className:I("backdrop:bg-gray-900 backdrop:opacity-80",n),ref:u,isOpen:i,shouldFocusTrap:e,initialFocus:v,onClickAway:w,children:k.jsxs("div",{className:I("h-80 w-96 p-2","flex flex-col justify-between","divide-y divide-solid"),children:[k.jsx("div",{className:I("flex-initial","h-8"),children:"header"}),k.jsx("div",{className:I("flex-auto","overflow-y-scroll"),children:k.jsx("div",{className:I("h-[500px]"),children:"main"})}),k.jsxs("div",{className:I("flex-initial","h-max pt-2","flex items-center justify-between"),children:[k.jsx(te,{onClick:m,children:"closeDialog main!!!!"}),k.jsx(te,{onClick:F,children:"closeDialog sub!!!!"})]})]})})]})},Ct=`import { Dialog, useDialog } from '@kamo88/react-dialog-hooks';

const DialogExample = () => {

    const { ref, isOpen, showDialog, closeDialog } = useDialog();
  
    return (
        <div>
            <button type="button" onClick={showDialog}>showDialog</button>
            <Dialog
                className="backdrop:bg-gray-900 backdrop:opacity-80"
                ref={ref}
                isOpen={isOpen}
                className="dialogClass"
                shouldFocusTrap
                initialFocus={false}
                onClickAway={closeDialog}
            >
                <div>
                    <div>header</div>
                    <div>main</div>
                    <div>
                        footer 
                        <button type="button" onClick={closeDialog}>closeDialog main</button>
                        <button type="button" onClick={closeDialog}>closeDialog sub</button>
                    </div>
                </div>
            </Dialog>
        </div>
    );
  };
`,_t={title:"components/Dialog",component:St,parameters:{layout:"centered",docs:{source:{code:Ct}}},tags:["autodocs"],argTypes:{className:{control:"text",description:`Dialog Component Props<br>
    This is <dialog> element\`s className.
    Please use CSS framework. code ex) tailwindcss.<br>
    not required<br>
    As a side note, you can also use css props (@emotion/css).
    `},shouldFocusTrap:{control:"boolean",description:`**Dialog Component Props**<br>
    not required<br>
    This will be props whether to use focus-trap or not.<br>
    When using this function, please put focusable elements in the children.<br>
    default: true
    `},initialFocus:{control:"boolean",description:`**Dialog Component Props**<br>
    not required<br>
    This is based on the focus-trap property.<br>
    type: undefined | false<br>
    default: undefined â‰’ auto focus
    `},actionShowDialog:{action:"actionShowDialog",description:`**Not Dialog Component Props**<br>
      This is props for use in storybook.<br>
      See 'show code' for actual usage in this page.
    `},actionCloseDialog:{action:"actionCloseDialog",description:`**Not Dialog Component Props**<br>
    This is props for use in storybook.<br>
    See 'show code' for actual usage in this page.
  `}}},G={};var we,De,Oe;G.parameters={...G.parameters,docs:{...(we=G.parameters)==null?void 0:we.docs,source:{originalSource:"{}",...(Oe=(De=G.parameters)==null?void 0:De.docs)==null?void 0:Oe.source}}};const Bt=["Default"];export{G as Default,Bt as __namedExportsOrder,_t as default};
//# sourceMappingURL=Dialog.stories-9307420f.js.map
